<!DOCTYPE html>
<html>
<head>
    <title>PASSNYC</title>
    {# remove favicon.ico error in chrome.#}
    <link rel="shortcut icon" href="#"/>
    <!--    <script src="http://d3js.org/d3.v4.min.js" charset="utf-8"></script>-->
    <script src="{{ url_for('static',filename='js/d3.v4.min.js') }}" charset="utf-8"></script>
    <script src="{{ url_for('static',filename='js/jquery-3.6.0.js') }}" charset="utf-8"></script>
    <script src="{{ url_for('static',filename='js/BiPlot.js') }}" charset="utf-8"></script>
    <script src="{{ url_for('static',filename='js/barchart.js') }}" charset="utf-8"></script>
    <script src="{{ url_for('static',filename='js/pcp.js') }}" charset="utf-8"></script>
    <script src="{{ url_for('static',filename='js/ScatterOne.js') }}" charset="utf-8"></script>
    <script src="{{ url_for('static',filename='js/ScatterTwo.js') }}" charset="utf-8"></script>

    <style>
        .tooltip {
            position: absolute;
            z-index: 10;
            text-align: center;
            max-width: 150px;
            font-size: 14px;
            /*background: white;*/
            color: white;
            /* pointer-events: none; */
        }

        .background path {
            fill: none;
            stroke: #ddd;
            shape-rendering: crispEdges;
        }

        .foreground path {
            fill: none;
            /* stroke: steelblue; */
        }

        .brush .extent {
            fill-opacity: .3;
            stroke: #fff;
            shape-rendering: crispEdges;
        }

        .text_title {
            position: absolute;
            width: 500px;
            z-index: 1000;
            top: 5px;
            font-size: 16px;
            left: 50%;
            transform: translate(-50%, 0);
            text-align: center;
        }

        .scatterplot_div {
            position: absolute;
            top: 50px;
            left: 0px;
        }

        .barchart_div {
            position: absolute;
            top: 50px;
            left: 1280px;
        }

        .biplot_div {
            position: absolute;
            top: 470px;
            left: 0px;
        }

        .scatterplot2_div {
            position: absolute;
            top: 50px;
            left: 640px;
        }

        .pcp_div {
            position: absolute;
            top: 470px;
            left: 640px;
        }

        /*below for dark bg*/
        body {
            background-color: black;
        }

        .x.axis line {
            stroke: white;
        }

        .x.axis path {
            stroke: white;
        }

        .x.axis text {
            fill: white;
        }

        .y.axis line {
            stroke: white;
        }

        .y.axis path {
            stroke: white;
        }

        .y.axis text {
            fill: white;
        }

        .x-axis line {
            stroke: white;
        }

        .x-axis path {
            stroke: white;
        }

        .x-axis text {
            fill: white;
        }

        .y-axis line {
            stroke: white;
        }

        .y-axis path {
            stroke: white;
        }

        .y-axis text {
            fill: white;
        }

        .axis line {
            stroke: white;
        }

        .axis path {
            stroke: white;
        }

        .axis text {
            fill: white;
        }

        text {
            fill: white;
        }

        .text_title {
            width: 100%;
            background: white;
        }

        /*button {*/
        /*    background: none;*/
        /*    border: none;*/
        /*    !*outline: delete the border when chosen.*!*/
        /*    outline: none;*/
        /*    !*border-radius: 12px;*!*/
        /*    !*font-size: 25px;*!*/
        /*    !*position: relative;*!*/
        /*    !*top: 15px;*!*/
        /*    transition-duration: 0.3s;*/
        /*}*/

        /*button:hover {*/
        /*    background-color: gray;*/
        /*    color: white;*/
        /*}*/

    </style>

<body>

<div class="scatterplot_div">
    <svg width="640" height="420" id="scattersvg" class="svgs"></svg>
</div>

<div class="biplot_div">
    <svg width="640" height="420" id="biplotsvg" class="svgs"></svg>
</div>

<div class="barchart_div">
    <svg width="640" height="420" id="barchartsvg" class="svgs"></svg>
</div>

<div class="scatterplot2_div">
    <svg width="640" height="420" id="scattersvg2" class="svgs"></svg>
</div>

<div class="pcp_div">
    <svg width="1280" height="420" id="pcpsvg" class="svgs"></svg>
</div>

<div class="text_title" id="text_title">
    PASSNYC: Specilized High School in NYC
    <button id="button_reset">Reset</button>

</div>

</body>


</head>
<body>
<script>
    const scattersvg = d3.select('#scattersvg');
    const width = +scattersvg.attr('width');
    const height = +scattersvg.attr('height');
    const margin = {top: 50, right: 50, bottom: 50, left: 50};
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    const pcpinnerWidth = width * 2 - margin.left - margin.right;

    const biplotsvg = d3.select('#biplotsvg');
    const barchartsvg = d3.select('#barchartsvg');
    const scattersvg2 = d3.select('#scattersvg2');
    const pcpsvg = d3.select('#pcpsvg');

    const city_color = {
        'New York': 'aqua',
        'Bronx': 'blue',
        'Brooklyn': 'fuchsia',
        'Flushing': '#5F9EA0',
        'Jamaica': 'green',
        'Long Island': 'lime',
        'Staten Island': 'maroon'
    }

    const col_abbr = {
        'City': 'City',
        'Economic Need Index': 'ENI',
        'School Income Estimate': 'SIE',
        'Percent ELL': 'PELL',
        'Student Attendance Rate': 'SAR',
        'Percent of Students Chronically Absent': 'PSCA',
        'Rigorous Instruction %': 'RI',
        'Rigorous Instruction Rating': 'RIR',
        'Collaborative Teachers %': 'CT',
        'Collaborative Teachers Rating': 'CTR',
        'Supportive Environment %': 'SE',
        'Supportive Environment Rating': 'SER',
        'Effective School Leadership %': 'ESL',
        'Effective School Leadership Rating': 'ESLR',
        'Strong Family-Community Ties %': 'SFCT',
        'Strong Family-Community Ties Rating': 'SFCTR',
        'Trust %': 'TS',
        'Trust Rating': 'TSR',
        'Student Achievement Rating': 'SAR',
        'Average ELA Proficiency': 'AELAP',
        'Average Math Proficiency': 'AMP',
        'Average Proficiency': 'AP',
    }

    scattersvg.append('g')
        .append('text')
        .attr('x', width / 2)
        .attr('y', margin.top / 2)
        .attr('font-size', 18)
        .attr('fill', 'black')
        .attr('text-anchor', 'middle')
        .attr('id', "scattercaption")
        .text('Scatterplot');

    biplotsvg.append('g')
        .append('text')
        .attr('x', width / 2)
        .attr('y', margin.top / 2)
        .attr('font-size', 18)
        .attr('fill', 'black')
        .attr('text-anchor', 'middle')
        .attr('id', "biplotcaption")
        .text('Biplot');

    barchartsvg.append('g')
        .append('text')
        .attr('x', width / 2)
        .attr('y', margin.top / 2)
        .attr('font-size', 18)
        .attr('fill', 'black')
        .attr('text-anchor', 'middle')
        .attr('id', "barchartcaption")
        .text('Barchart');

    scattersvg2.append('g')
        .append('text')
        .attr('x', width / 2)
        .attr('y', margin.top / 2)
        .attr('font-size', 18)
        .attr('fill', 'black')
        .attr('text-anchor', 'middle')
        .attr('id', "scatterplot2caption")
        .text('Scatterplot2');

    pcpsvg.append('g')
        .append('text')
        .attr('x', width)
        .attr('y', margin.top / 2)
        .attr('font-size', 18)
        .attr('fill', 'black')
        .attr('text-anchor', 'middle')
        .attr('id', "pcpcaption")
        .text('PCP');

    //below call functions to draw.
    biPlot()
    scatterOne()
    scatterTwo()
    barchart();
    pcp();

</script>
</body>
</html>